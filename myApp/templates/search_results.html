<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
</head>
<body>
    {% include 'header.html' %}

    <main>
    <h1>Search Results</h1>
    <p>Query: {{ query }}</p>

    {% if users %}
    <ul>
        {% for user in users %}
        <li>
            <p>Profile Image URL: {{ user.profile.image.url }}</p>  <!-- Debug -->
            <a href="{% url 'user_paintings' user.username %}">
                <div class="search-results">
                    <img src="{{ user.profile.image.url }}" 
                         alt="Profile Picture" 
                         id="profile-preview" 
                         onerror="this.onerror=null; this.src='{% static 'images/default.jpg' %}'">
                    <span>{{ user.username }}</span>
                </div>
            </a>
            

            
            
        </li>
        
        {% endfor %}
    </ul>
    
    {% else %}
        <p>No users found.</p>
    {% endif %}
</main>
{% include 'footer.html' %}
</body>
<style>
    /* Make all profile images circular */
.profile img, 
.profile-btn img, 
.search-results img {
    width: 50px; /* Adjust as needed */
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    display: block;
}

/* Ensure initials are also circular */
.profile-initial, 
.search-initial {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #555;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: bold;
    text-transform: uppercase;
}

</style>
</html>
